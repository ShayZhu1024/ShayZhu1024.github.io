# tomcat 基础

### JDK 安装

##### OpenJDK

openjdk 在常见的Linux发行版中， 包仓库中默认是有的， 只需要通过发行版对应的yum或者apt 就可以安装

##### OracleJDK

OracleJDK 需要先到Oracle 官网 https://www.oracle.com/java/technologies/downloads/ ， 注册账号之后，才能下载

安装参见脚本 [OracleJDK安装](./scripts/install_jdk.sh)

#### 查看jdk版本
`java -version`


## tomcat

tomcat是java web应用服务器， 是servlet和jsp容器，同时也是一个静态web服务器  

官网 https://tomcat.apache.org/


tomcat 各版本的区别   https://tomcat.apache.org/whichversion.html

### tomcat 包安装

```bash
yum install tomcat*

apt install tomcat9

```

### tomcat二进制安装

参考脚本 [tomcat二进制包安装](./scripts/install_tomcat.sh)




### tomcat 文件结构和组成

##### 目录结构

|目录|说明|
|--------|---------------------------------|
|bin    |服务启动、停止等相关程序和文件 |
|conf   |配置文件|
|lib    |库目录|
|logs   |日志目录|
|webapps|应用程序，应用部署目录|
|work   |jsp编译后的结果文件，建议提前预热访问，升级应用后，删除此目录数据才能更新|



#####  配置文件说明

在tomcat安装目录下的 conf 子目录中，有以下的 tomcat 的配置文件

|文件名|说明|
|------|-------|
|server.xml          |主配置文件|
|web.xml             |每个webapp只有“部署”后才能被访问，它的部署方式通常由web.xml进行定义，其存放位置为WEB-INF/目录中；此文件为所有的webapps提供默认部署相关的配置,每个web应用也可以使用专用配置文件,来覆盖全局文件 |
|context.xml         |用于定义所有web应用均需加载的Context配置，此文件为所有的webapps提供默认配置，每个web应用也可以使用自已专用的配置，它通常由专用的配置文件context.xml来定义，其存放位置为WEB-INF/目录中,覆盖全局的文件 |
|tomcat-users.xml    |用户认证的账号和密码文件|
|catalina.policy     |当使用security选项启动tomcat时，用于为tomcat设置安全策略|
|catalina.properties |Tomcat 环境变量的配置，用于设定类加载器路径，以及一些与JVM调优相关参数|
|logging.properties  |Tomcat 日志系统相关的配置，可以修改日志级别和日志路径等|

**注意：配置文件大小写敏感**

### 日志文件

**tomcat有五类日志：catalina、localhost、manager、admin、host-manager**








