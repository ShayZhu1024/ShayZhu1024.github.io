# MySQL性能优化和日志管理


## 服务器选项和系统变量
* https://dev.mysql.com/doc/refman/8.0/en/server-option-variable-reference.html
* https://dev.mysql.com/doc/refman/5.7/en/server-option-variable-reference.html
* https://mariadb.com/kb/en/variables-and-modes/

### 文档中表格标题说明：
- Cmd-Line      是否能在命令行下设置，就是在MySQL启动时候，放到命令行参数上的，例如: msyqld --basedir=/usr
- Option File   是否能写配置文件
- System Var    是否是系统变量
- Status Var    是否是状态变量
- Var Scope     变量作用范围
- Dynamic       是否能动态修改

### 额外说明：

- Cmd-Line 和 Opton File 列的值如果是 Yes，则表示该项是服务器选项
- System Var 列的值如果是 Yes，则表示该项是系统变量
- Status Var 列的值如果是 Yes，则表示该项是状态变量,状态变量一般用来读的，readonly
- Option File 指配置文件
- 服务器选项通常在命令行后面添加或在配置文件中设置
- 状态变量表示的是当前的一个状态值
- 变量生效范围有三种，分别是全局，会话，全局和会话，Var Scope 列对应的值分别是 Global，Session，Both
- Dynamic 列表示是否可以动态修改，如果该列值为 No，则表示不可修改，状态变量都不可修改，部份系统变量也不可修改
- 一个配置项可以同时是服务器选项，系统变量，状态变量这三种中的两种，但不会同时是三种角色

### 查看变量和设置变量

```bash
show variables like "%max%";
select @@sql_log_bin;
set sql_log_bin=0;  #session 变量
select @@log_bin;
select global 全局变量=值;
全局变量对所有会话生效
会话变量只对当前会话生效

具体可以设置哪些值可以查看官方文档
```


## index 索引
```bash
查看表索引
    show index from students \G

查看查询有没有使用索引
    explain select * from students where StuID=23 \G

创建索引
    create index index_name on students(name(10))
    create idnex index_age on students(age)

删除索引
    drop index index_age on students;
    drop index index_name on students;
```