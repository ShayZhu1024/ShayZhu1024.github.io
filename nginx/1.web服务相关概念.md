# web服务相关概念


## 从浏览器输入链接到显示网页中间过程

### URL解析
* 输入网址：你在浏览器地址栏输入一个URL（统一资源定位符），如 https://www.example.com
* 解析URL：浏览器解析URL以确定你想访问的资源。URL通常包括协议（如HTTP或HTTPS）、服务器地址和资源路径

### 域名解析（DNS查找）
* DNS解析 系统缓存->hosts文件->向DNS服务器查询(递归查询和迭代查询)
* 获取IP地址：DNS服务器将域名映射到IP地址并返回给浏览器

###  建立连接

* TCP连接 浏览器使用解析得到的IP地址尝试通过TCP（传输控制协议）建立连接。如果是HTTPS网站，还需要建立一个安全连接，即TLS（传输层安全协议）握手
* TLS握手：在TCP连接建立后，进行TLS握手，这包括加密算法的协商、服务器证书的验证（证书中包含了公钥）以及密钥的生成和交换

### 发送HTTP请求
* 构造HTTP请求：连接建立后，浏览器构造一个HTTP请求消息，包括请求行（如 GET / HTTP/1.1）、请求头部和请求体
* 发送请求：浏览器将这个HTTP请求通过已建立的TCP连接发送到服务器

### 服务器处理请求并返回响应
* 服务器接收请求：服务器接收到请求并根据路径和参数处理请求
* 服务器响应：服务器处理完请求后，会构造一个HTTP响应消息，包括状态码（如200 OK）、响应头部和响应体（通常是HTML内容）

### 浏览器处理响应

* 接收响应：浏览器接收到HTTP响应并开始解析响应体（HTML文档）
* 解析HTML：浏览器解析HTML内容，构建DOM（文档对象模型）树
* 请求资源：HTML文档中可能包含CSS、JavaScript、图片等资源的链接，浏览器将对这些资源发出新的HTTP请求
* 渲染页面：CSS被解析成CSSOM（CSS对象模型），与DOM树合并成渲染树，然后浏览器根据渲染树来布局并绘制页面

### 显示页面
* 用户交互：页面加载完成后，用户可以开始与页面交互。JavaScript可以修改DOM和监听及响应用户事件


## 网站访问量统计的重要指标

* IP(独立IP)：即Internet Protocol,指独立IP数。一天内来自相同客户机IP 地址只计算一次，记录远程客户机IP地址的计算机访问网站的次数，是衡量网站流量的重要指标
* PV(访问量)： 即Page View, 页面浏览量或点击量，用户每次刷新即被计算一次，PV反映的是浏览某网站的页面数，PV与来访者的数量成正比，PV并不是页面的来访者数量，而是网站被访问的页面数量
* UV(独立访客)：即Unique Visitor,访问网站的一台电脑为一个访客。一天内相同的客户端只被计算一次。可以理解成访问某网站的电脑的数量。网站判断来访电脑的身份是通过cookies实现的。如果更换了IP后但不清除cookies，再访问相同网站，该网站的统计中UV数是不变的


### http工作机制

#### 一次http事务包括：
* http请求：http request
* http响应：http response

Web资源：web resource， 一个网页由多个资源（文件）构成，打开一个页面，通常会有多个资源展
示出来，但是每个资源都要单独请求。因此，一个"Web 页面”通常并不是单个资源，而是一组资源的集合






