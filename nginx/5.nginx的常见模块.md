# nginx 常见模块

## 访问控制基于模块ngx_http_access_module实现，可以通过匹配客户端源IP地址进行限制
```bash
location = /login/ {
   root /data/nginx/html/pc;
   allow 10.0.0.0/24;
   deny all;
}

location /about {
   alias /data/nginx/html/pc;
   index index.html;
   deny  192.168.1.1;
   allow 192.168.1.0/24;
   allow 10.1.1.0/16;
   allow 2001:0db8::/32;
   deny all;              #按先小范围在前，大范围在后排序
}

```

## 自定义错误页面 error_page

自定义错误页，同时也可以用指定的响应状态码进行响应, 可用位置：http, server, location, if in  location
```bash
Syntax: error_page code ... [=[response]] uri;
Default: —
Context: http, server, location, if in location


listen 80;
server_name www.wang.org;
error_page  500 502 503 504 /error.html;
location = /error.html {
   root /data/nginx/html;
}


#404转为302
#error_page 404 /index.html;
error_page  404  =302 /index.html; 
error_page 500 502 503 504 /50x.html;
     location = /50x.html {
}

```

## 自定义错误日志
```bash
Syntax: error_log file [level];
Default: 
error_log logs/error.log error;
Context: main, http, mail, stream, server, location
level: debug, info, notice, warn, error, crit, alert, emerg
#关闭错误日志
error_log /dev/null;
```



