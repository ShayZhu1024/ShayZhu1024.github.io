1  查看一个进程的线程数

```bash
egrep -i threads /proc/进程ID/status
pstree -p #查看{}，里面就是一个线程

```

2.找到未知进程的执行程序文件路径

```bash
cat /proc/1007/exe

```


3.查看优先级和CPU绑定关系

```bash
psr:processor that process is currently assigned to.
rtprio:realtime priority.
ni:nice value
pri:priority of the process

ps axo pid,cmd,ni,pri,psr,rtprio |grep migration
ps axo pid,cmd,ni,pri,psr |grep dd

```

4.利用 lsof 恢复正在使用中的误删除的文件

```bash
lsof |grep /var/log/messages
rm -f /var/log/messages
lsof |grep /var/log/messages
cat /proc/653/fd/6
cat /proc/653/fd/6 > /var/log/messages

```

5.利用 0 信号实现进程的健康性检查

```bash
[root@rocky8-3 ~]# killall -0 bash
[root@rocky8-3 ~]# echo $?
0
#此方式有局限性，即使进程处于停止或僵尸状态，此方式仍然认为是进程是健康的
```

6.关掉指定端口的进程

```bash
[root@rocky8 ~]#fuser -k -9 80/tcp
```


7.如何在秒级别运行任务？


8 如何实现每7分钟运行一次任务?


9.每周的工作日1:30，将/etc备份至/backup目录中，保存的文件名称格式为“etcbak-yyyy-mm-ddHH.tar.xz”，其中日期是前一天的时间

10.每两小时取出当前系统/proc/meminfo文件中以S或M开头的信息追加至/tmp/meminfo.txt文件中

11.工作日时间，每10分钟执行一次磁盘空间检查，一旦发现任何分区利用率高于80%，就执行wall警报


12 解释top命令每一行的意义

13  如果查看一个进程的是否是多线程


14 说明cron计划任务的格式

15、 解决Dos攻击生产案例：监控当某个IP并发连接数超过100时，即调用防火墙命令封掉对应的IP，监
控频率每隔5分钟。防火墙命令为：iptables -A INPUT -s IP -j REJECT
```bash

```
